<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>14-4 フォームの処理（連想配列、和英・和英辞典）</title>
<style>
 body {
   margin-left: 40px;
 }
</style>

<script>

"use strict";
const 英和辞書 = {
  library: "図書館", mountain: "山", river: "川",
  bug: "虫", warrior: "武者", knight: "騎士",
  star: "星", moon: "月", ant: "蟻",
  elephant: "象", bird: "鳥", book: "本"
};

const 英単語の配列 = Object.keys(英和辞書); 
// 英和辞書のキー（プロパティ）が  英単語の配列 に記憶される

function 単語を検索(単語) {
	if (英和辞書[単語]) {
		// alert(単語);
		return 英和辞書[単語];
	}
	
	for (let i=0; i<英単語の配列.length; i++) {
		// console.log(英単語の配列[i]);
		if (英和辞書[英単語の配列[i]] === 単語) {
			return 英単語の配列[i];
		}
	}
	return "わかりません";
}


function 英和_和英辞典を引く() {
  const 単語 = document.getElementById("inp").value;
	// alert(単語);
  const 訳語 = 単語を検索(単語);
  document.getElementById("out").innerHTML = 訳語;
	event.preventDefault(); // Enterで再読込しないように。return false;でもOK
}

</script>
</head>

<body>

<h2>英和・和英辞書</h2>

  <form id="form1">
  英語あるいは日本語の単語：<input type="text" id="inp">
  <button type="submit" id="button" value="search">検索</button><br>
  対応する意味をもつ日本語あるいは英語：<span id="out"></span>
	</form>

<script>
	document.getElementById("form1").addEventListener("submit", 英和_和英辞典を引く);
</script>
</body>
</html>
